<!-- src\app\components\furniture-form\furniture-form.component.html -->

<div class="form-wrapper">
  <form [formGroup]="furnitureForm" (ngSubmit)="submit()">
    <p *ngIf="error" class="error-text">{{ error }}</p>

    <!-- Name -->
    <div class="standard-container">
      <label class="field-title"
        >Name
        <input
          type="text"
          formControlName="name"
          class="field-input"
          placeholder="Nom du meuble"
        />
      </label>
    </div>

    <!-- Description -->
    <div class="standard-container">
      <label class="field-title">
        Description
        <textarea
          formControlName="description"
          rows="3"
          class="field-input"
          placeholder="Description"
        ></textarea>
      </label>
    </div>

    <div class="special-container-1">
      <div class="w-1/2">
        <label class="field-title"
          >Size
          <input
            type="text"
            formControlName="size"
            class="field-input"
            placeholder="ex: 120x80 cm"
          />
        </label>
      </div>
      <div class="w-1/2">
        <label class="field-title">
          Colour
          <input
            type="text"
            formControlName="colour"
            class="field-input"
            placeholder="ex: Marron"
          />
        </label>
      </div>
    </div>

    <div class="special-container-2">
      <div>
        <label class="field-title"
          >Quantity
          <input
            type="number"
            formControlName="quantity"
            class="field-input"
            placeholder="Quantité"
          />
        </label>
      </div>
      <div>
        <label class="field-title"
          >Price (€)
          <input
            type="number"
            step="0.01"
            formControlName="price"
            class="field-input"
            placeholder="Prix"
          />
        </label>
      </div>
    </div>

    <!-- Status -->
    <div class="standard-container">
      <label class="field-title"
        >Status

        <select formControlName="status" class="field-input" required>
          <option value="" disabled selected>Select a status</option>
          <option *ngFor="let status of statuses" [value]="status">
            {{ status }}
          </option>
        </select>
      </label>
      <!-- Display an error message if the field is touched but still invalid -->
      <div
        *ngIf="
          furnitureForm.get('status')?.touched &&
          furnitureForm.get('status')?.invalid
        "
        class="error-text"
      >
        The status is required.
      </div>
    </div>

    <div class="form-footer">
      <button
        type="submit"
        [disabled]="loading || furnitureForm.invalid"
        class="add-furniture-button"
      >
        {{ loading ? "Sending..." : "Submit" }}
      </button>
    </div>
  </form>
</div>
