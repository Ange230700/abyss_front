<!-- src\app\pages\home-page\home-page.component.html -->

<main class="home-page">
  <!-- Loading -->
  <div *ngIf="loading" class="loader">
    <p>Loading furniture...</p>
  </div>

  <!-- DataView List (PrimeNG Card Layout Example) -->
  <section *ngIf="!loading && furnitures().length > 0">
    <p-dataview #dv [value]="furnitures()" [rows]="6" [paginator]="true">
      <ng-template pTemplate="list" let-items>
        <div class="grid grid-cols-12 gap-4 grid-nogutter">
          <div
            *ngFor="let item of items; let first = first"
            class="col-span-12 md:col-span-6 xl:col-span-4"
          >
            <div
              class="flex flex-col sm:flex-row sm:items-center p-6 gap-4 shadow rounded-xl border"
              [ngClass]="{
                'border-t border-surface-200 dark:border-surface-700': !first,
              }"
            >
              <div class="md:w-40 relative">
                <p-tag
                  [value]="getDisplayStatus(item)"
                  [severity]="getSeverity(item)"
                  class="absolute top-2 left-2 dark:!bg-surface-900"
                ></p-tag>
              </div>
              <div
                class="flex flex-col md:flex-row justify-between md:items-center flex-1 gap-6"
              >
                <div
                  class="flex flex-row md:flex-col justify-between items-start gap-2"
                >
                  <div>
                    <span class="font-medium text-secondary text-sm"
                      >#{{ item.id }}</span
                    >
                    <div
                      class="text-lg font-medium text-surface-900 dark:text-surface-0 mt-2"
                    >
                      {{ item.name }}
                    </div>
                  </div>

                  <div
                    class="bg-surface-100 dark:bg-surface-700 p-1"
                    style="border-radius: 30px"
                  >
                    <div
                      class="bg-surface-0 dark:bg-surface-900 flex items-center gap-2 justify-center py-1 px-2"
                    >
                      <span
                        class="text-surface-900 dark:text-surface-0 font-medium text-sm"
                        >4.5</span
                      >
                      <i class="pi pi-star-fill"></i>
                    </div>
                  </div>
                </div>
                <div class="flex flex-col md:items-end gap-8">
                  <span
                    class="text-xl font-semibold text-surface-900 dark:text-surface-0"
                  >
                    â‚¬{{ item.price }}
                  </span>
                  <div class="flex flex-row-reverse md:flex-row gap-2">
                    <p-button icon="pi pi-heart" [outlined]="true"></p-button>
                    <p-button
                      icon="pi pi-shopping-cart"
                      class="flex-auto md:flex-initial whitespace-nowrap"
                      label="Buy Now"
                      [disabled]="getSeverity(item) === 'danger'"
                    ></p-button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </p-dataview>
  </section>

  <!-- Empty/Error States -->
  <p
    *ngIf="!loading && furnitures().length === 0 && !error"
    class="text-center mt-6"
  >
    No furniture available at the moment.
  </p>
  <p *ngIf="error" class="text-center mt-6">
    An error occurred while loading furniture.
  </p>
</main>
